CompileFlags:
  Add:
    # Exception handling
    - -fexceptions
    - -std=c++20
    
    # Defines
    - -DLIBXML_XINCLUDE_ENABLED
    - -DLIBXML_SCHEMATRON_ENABLED
    - -DBUILDING_NODE_EXTENSION
    - -DNODE_ADDON_API_CPP_EXCEPTIONS
    
    # Include paths - Node.js API headers (relative path)
    - -I../node_modules/node-api-headers/include
    
    # Include paths - node-addon-api headers (relative path)
    - -I../node_modules/node-addon-api
    
    # Include paths - nan headers (relative path)
    - -I../node_modules/nan
    
    # Include paths - vendor libxml (relative path)
    - -I../vendor/libxml/include
    - -I../vendor/libxml/include/libxml
    
  Remove:
    # Remove any conflicting flags
    - -fno-exceptions

Diagnostics:
  UnusedIncludes: None
  MissingIncludes: None
  
Index:
  Background: Build

# Suppress warnings from vendor code
---
If:
  PathMatch: vendor/.*
Diagnostics:
  Suppress: "*"
